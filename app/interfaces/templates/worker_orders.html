{% extends "layout/base.html" %}

{% block title %}Mis Pedidos - Trabajador{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/worker.css') }}">
{% endblock %}

{% block navbar %}
<!-- Sin navbar para trabajadores -->
{% endblock %}

{% block content %}

<div class="worker-layout">
    <aside class="worker-sidebar">
        <div class="worker-sidebar-header">
            <h2><i class="fas fa-user-tie"></i> Portal Trabajador</h2>
            <div class="worker-info">
                <p><strong id="worker-name">Cargando...</strong></p>
                <p><span id="worker-role">worker</span></p>
            </div>
        </div>
        
        <ul class="worker-menu">
            <li>
                <a href="/worker-orders" class="worker-menu-item active">
                    <i class="fas fa-clipboard-list"></i>
                    <span>Mis Pedidos</span>
                </a>
            </li>
            <li>
                <a href="/worker-profile" class="worker-menu-item">
                    <i class="fas fa-user"></i>
                    <span>Mi Perfil</span>
                </a>
            </li>
            <li>
                <a href="#" class="worker-menu-item" id="worker-logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Cerrar Sesi√≥n</span>
                </a>
            </li>
        </ul>
    </aside>
    
    <main class="worker-main">
        <div class="worker-top-bar">
            <h1><i class="fas fa-fire"></i> Pedidos Asignados</h1>
            <div class="worker-actions">
                <span id="last-refresh-time">Cargando...</span>
                <button id="manual-refresh-btn" class="btn-refresh">
                    <i class="fas fa-sync-alt"></i>
                    Actualizar
                </button>
            </div>
        </div>
        
        <div id="worker-orders-container">
            <div class="empty-state">
                <i class="fas fa-spinner fa-spin"></i>
                <h3>Cargando pedidos...</h3>
                <p>Por favor espera un momento</p>
            </div>
        </div>
    </main>
</div>

<div id="loading-overlay" class="loading-overlay" style="display: none;">
    <div class="loading-content">
        <i class="fas fa-spinner fa-spin"></i>
        <p>Procesando...</p>
    </div>
</div>

{% endblock %}

{% block footer %}
<!-- Sin footer para trabajadores -->
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/worker.js') }}"></script>
{% endblock %}
